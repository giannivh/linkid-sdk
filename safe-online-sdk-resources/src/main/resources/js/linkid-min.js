/*
 * Widget to include a LinkID login modal window on a page.
 *
 * Widget structure based on: http://alexmarandon.com/articles/web_widget_jquery/
 * @author Stein Desmet
 */// Bootstrap necessary JS/CSS needed for linkID Login
function bindLinkIDLogin(){var a=$(this).attr("href");if(a==undefined||a=="#")a=cfg.loginURL;var b=$(this).attr("data-completion-href");if(b==undefined||b=="#")b=window.location.pathname;a=a+(a.indexOf("?")>-1?"&":"?")+"return_uri="+encodeURIComponent(b);var c=$(this).attr("data-mode");c=="link"||c=="redirect"?$(this).click(function(){a=a+(a.indexOf("?")>-1?"&":"?")+"login_mode=redirect",window.location.replace(a)}):c=="popup"||c=="popup_no_close"?$(this).click(function(){$(this).attr("href","#"),a=a+(a.indexOf("?")>-1?"&":"?")+("login_mode="+encodeURIComponent(c));var b=window.open(a,"LinkID-Login","toolbar=0, titlebar=0, menubar=0, location=0, status=0, directories=0, height="+cfg.height+",width="+cfg.width);b.focus()}):(c=="framed_no_breakframe"?a=a+(a.indexOf("?")>-1?"&":"?")+"login_mode=framed_no_breakframe":a=a+(a.indexOf("?")>-1?"&":"?")+"login_mode=framed",$(this).colorbox({iframe:!0,fastIframe:!1,innerWidth:cfg.width,innerHeight:cfg.height,href:a,scrolling:!1,overlayClose:!1,opacity:.85}))}function bindLinkIDLogout(){var a=$(this).attr("href");if(a==undefined||a=="#")a=cfg.logoutURL;var b=$(this).attr("data-completion-href");if(b==undefined||b=="#")b=window.location.pathname;a=a+(a.indexOf("?")>-1?"&":"?")+"return_uri="+b,$(this).click(function(){window.location.replace(a)})}function bindLinkIDMobileLinking(){var a=$(this).attr("href");if(a==undefined||a=="#")a=cfg.linkURL;var b=$(this).attr("data-mode");b=="link"?$(this).click(function(){window.location.replace(loginURL)}):b=="popup"?$(this).click(function(){$(this).attr("href","#");var a=window.open(loginURL,"LinkID-Link","toolbar=0, titlebar=0, menubar=0, location=0, status=0, directories=0, height="+cfg.height+",width="+cfg.width);a.focus()}):$(this).colorbox({iframe:!0,fastIframe:!1,innerWidth:cfg.width,innerHeight:cfg.height,href:a,scrolling:!1,overlayClose:!1,opacity:.85})}function initializeLinkID(){$(document).ready(function(a){a(".linkid-login").each(bindLinkIDLogin),a(".linkid-logout").each(bindLinkIDLogout),a(".linkid-link").each(bindLinkIDMobileLinking)})}(function(){function b(b){if(a)return;var c=document.getElementsByTagName("script");for(var d=c.length-1;d>=0;--d){var e=c[d].src,f=e.length,g=b.length;e.substr(f-g)==b&&(a=e.substr(0,f-g))}}function c(a,b){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",a),c.readyState?c.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&b()}:c.onload=b,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(c)}function d(){LazyLoad.css(a+"css/login-modal.css",e)}function e(){var b=[];window.jQuery===undefined&&b.push(a+"js/jquery.js"),window.colorbox===undefined&&b.push(a+"js/jquery.colorbox-min.js"),b.length>0?LazyLoad.js(b,initializeLinkID):initializeLinkID()}var a;b("js/linkid-min.js"),b("js/linkid.js"),a||(a="https://service.linkid.be/linkid-static/"),window.LazyLoad===undefined?c(a+"js/lazyload-min.js",d):d()})();var cfg={width:640,height:480,loginURL:"/startlogin",logoutURL:"/startlogout",linkURL:"/mobile_link"};