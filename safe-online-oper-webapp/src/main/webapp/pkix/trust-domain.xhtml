<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk" xmlns:so="urn:net:lin-k:safe-online:taglib:1.0">
	<body>
		<ui:composition template="/WEB-INF/incl/oper-template.xhtml">
			<ui:define name="topnav">
				<ui:include src="/WEB-INF/incl/navigation.xhtml">
					<ui:param name="page" value="configuration" />
				</ui:include>
			</ui:define>
			<ui:define name="top_content">
				<h1>#{msgs.operatorTrustDomain}:
					#{selectedTrustDomain.name}</h1>
			</ui:define>
			<ui:define name="content">

				<h:form>

					<h2>#{msgs.miscProperties}</h2>

					<table>
						<colgroup class="half" />
						<colgroup />

						<tbody>
							<tr>
								<th>#{msgs.operatorPerformOCSPCheck}:
								</th>
								<td>
									<h:selectBooleanCheckbox disabled="true"
										value="#{selectedTrustDomain.performOcspCheck}" />
								</td>
							</tr>
							<tr>
								<th>#{msgs.operatorOCSPCacheTimeout}
									(ms):</th>
								<td>#{selectedTrustDomain.ocspCacheTimeOutMillis}
								</td>
							</tr>
						</tbody>
					</table>

					<h:commandButton action="#{editTrustDomain.edit}"
						id="edit" value="#{msgs.editaction}" styleClass="submit" />

					<br />

					<h2>#{msgs.miscContent}</h2>

					<div class="noborders nospace">
						<t:tree2 value="#{trustPoint.treeModel}" var="node"
							clientSideToggle="false">
							<f:facet name="root">
								<h:outputText value="#{node.description}" />
							</f:facet>
							<f:facet name="node">
								<h:panelGroup>
									<h:commandLink action="#{trustPoint.view}">#{node.description}</h:commandLink>
									(SN: #{node.serialNumber})
									<br />
									<so:nbsp />
									<br />
								</h:panelGroup>
							</f:facet>
						</t:tree2>
					</div>

					<h:commandButton action="add" id="add"
						value="#{msgs.addaction}" styleClass="submit" />
					<h:commandButton value="#{msgs.clearOcspCache}" id="clear-cache"
						action="#{trustDomain.clearOcspCachePerTrustDomain}" styleClass="submit" />
					<h:commandButton action="back" id="back"
						value="#{msgs.backaction}" immediate="true" styleClass="submit" />
				</h:form>

			</ui:define>
			<ui:define name="sidebar">
				<h:form>
					<ul>
						<li>
							<h:commandLink action="/nodes/nodes.seam" value="#{msgs.operatorOlasNodes}" />
						</li>
						<li>
							<h:commandLink action="/configuration.seam"
								value="#{msgs.operatorGeneralConfiguration}" />
						</li>
						<li>
							<h:commandLink action="/usage/usage-agreements.seam"
								value="#{msgs.usageAgreementOLAS}" />
						</li>
						<li>
							<h:commandLink action="/notifications/notifications.seam"
								value="#{msgs.operatorNotifications}" />
						</li>
					</ul>
				</h:form>
			</ui:define>
		</ui:composition>
	</body>

</html>
