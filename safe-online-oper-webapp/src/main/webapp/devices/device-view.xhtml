<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:so="urn:net:lin-k:safe-online:taglib:1.0"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich">
<body>
<ui:composition template="/WEB-INF/template.xhtml">
	<ui:define name="topnav">
		<ui:include src="/WEB-INF/incl/navigation.xhtml">
			<ui:param name="page" value="devices" />
		</ui:include>
	</ui:define>
	<ui:define name="top_content">
		<h1>#{selectedDevice.name}</h1>
	</ui:define>
	<ui:define name="content">

		<rich:tabPanel id="tabs" switchType="client">

			<rich:tab id="generic-tab" label="#{msgs.generic}">
				<table class="name_value">
					<tr>
						<th><h:outputText for="name" value="#{msgs.name}" /></th>
						<td><h:outputText id="name" value="#{selectedDevice.name}" /></td>
					</tr>
					<tr>
						<th><h:outputText for="class" value="#{msgs.deviceClass}" /></th>
						<td><h:outputText id="class"
							value="#{selectedDevice.deviceClass.name}" /></td>
					</tr>
					<tr>
						<th><h:outputText for="location" value="#{msgs.location}" /></th>
						<td><h:outputText id="location"
							value="#{selectedDevice.location.name}" /></td>
					</tr>
					<tr>
						<th><h:outputText for="authUrl"
							value="#{msgs.authenticationUrl}" /></th>
						<td><h:outputText id="authUrl"
							value="#{selectedDevice.authenticationURL}" /></td>
					</tr>
					<tr>
						<th><h:outputText for="regUrl"
							value="#{msgs.registrationUrl}" /></th>
						<td><h:outputText id="regUrl"
							value="#{selectedDevice.registrationURL}" /></td>
					</tr>
					<tr>
						<th><h:outputText for="removeUrl" value="#{msgs.removalUrl}" /></th>
						<td><h:outputText id="removeUrl"
							value="#{selectedDevice.removalURL}" /></td>
					</tr>

					<tr>
						<th><h:outputText for="updateUrl" value="#{msgs.updateUrl}" /></th>
						<td><h:outputText id="updateUrl"
							value="#{selectedDevice.updateURL}" /></td>
					</tr>
				</table>
			</rich:tab>

			<rich:tab id="description-tab" label="#{msgs.description}">
				<h:form id="descrform">
					<h:dataTable id="desc-data" var="item"
						value="#{deviceDescriptions}" styleClass="listingTable"
						rowClasses="listingTable_Row1,listingTable_Row2">
						<h:column>
							<f:facet name="header">#{msgs.language}</f:facet>
							<h:commandLink value="#{item.language}"
								action="#{deviceDesc.edit}" />
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.description}</f:facet>
							<h:outputText value="#{item.description}" />
						</h:column>
					</h:dataTable>
					<rich:spacer height="10" />
					<h:commandButton action="add-descr" id="add-descr"
						value="#{msgs.addaction}" styleClass="submit" />
				</h:form>
			</rich:tab>

			<rich:tab id="properties-tab" label="#{msgs.properties}">
				<h:form id="propertiesform">
					<h:dataTable id="prop-data" var="item" value="#{deviceProperties}"
						styleClass="listingTable"
						rowClasses="listingTable_Row1,listingTable_Row2">
						<h:column>
							<f:facet name="header">#{msgs.name}</f:facet>
							<h:commandLink value="#{item.name}" action="#{deviceProp.edit}" />
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.value}</f:facet>
							<h:outputText value="#{item.value}" />
						</h:column>
					</h:dataTable>
					<rich:spacer height="10" />
					<h:commandButton action="add-prop" id="add-prop"
						value="#{msgs.addaction}" styleClass="submit" />
				</h:form>
			</rich:tab>

			<rich:tab id="attribute-tab" label="#{msgs.attribute}">
				<h:outputText id="attribute-name"
					value="#{selectedDevice.attributeType.name}" />

				<h:dataTable id="compounded-members" var="item"
					value="#{selectedDevice.attributeType.members}"
					rendered="#{selectedDevice.attributeType.compounded}"
					styleClass="listingTable"
					rowClasses="listingTable_Row1,listingTable_Row2">
					<h:column>
						<f:facet name="header">#{msgs.memberAttributes}</f:facet>
						<h:outputText value="#{item.member.name}" />
					</h:column>
				</h:dataTable>
			</rich:tab>

			<rich:tab id="certificate-tab" label="#{msgs.certificate}">
				<pre><h:outputText value="#{selectedDevice.certificate}"
					rendered="#{!empty selectedDevice.certificate}" /></pre>
				<p><h:outputText value="#{msgs.noCertificate}"
					rendered="#{empty selectedDevice.certificate}" /></p>
			</rich:tab>

		</rich:tabPanel>

		<rich:spacer height="10" />

		<h:form id="actionform">
			<h:commandButton value="#{msgs.backaction}" id="back" action="back"
				styleClass="submit" />
			<h:commandButton action="#{operDevice.edit}" id="edit"
				value="#{msgs.editaction}" styleClass="submit" />
		</h:form>

	</ui:define>
	<ui:define name="sidebar">
		<h:form>
			<ul class="sidemenu">
				<li><h:commandLink action="/devices/classes.seam"
					value="#{msgs.deviceClasses}" /></li>
			</ul>
		</h:form>
	</ui:define>
</ui:composition>
</body>

</html>
