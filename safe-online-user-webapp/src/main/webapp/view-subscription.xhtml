<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:so="urn:net:lin-k:safe-online:taglib:1.0"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich">
<body>
<ui:composition template="/WEB-INF/template.xhtml">
	<ui:define name="topnav">
		<ui:include src="/WEB-INF/incl/navigation.xhtml">
			<ui:param name="page" value="applications" />
		</ui:include>
	</ui:define>
	<ui:define name="top_content">
		<h1>#{msgs.subscription}:<so:nbsp />
            <h:outputText rendered="#{!empty friendlyName}" value="#{selectedSubscription.application.friendlyName}" />
            <h:outputText rendered="#{empty friendlyName}" value="#{selectedSubscription.application.name}" />
        </h1>
	</ui:define>
	<ui:define name="content">

		<a4j:outputPanel id="subscriptionPanel">

			<rich:simpleTogglePanel switchType="client" styleClass="fullwidth"
				label="#{msgs.information}">
				<table class="inner">
					<colgroup class="half" />
					<colgroup />

					<tbody>
						<tr>
							<th><h:outputText value="#{msgs.name}" /></th>
							<td><h:outputText
								value="#{selectedSubscription.application.friendlyName}"
								rendered="#{!empty selectedSubscription.application.friendlyName}" />
							<h:outputText value="#{selectedSubscription.application.name}"
								rendered="#{empty selectedSubscription.application.friendlyName}" />
							</td>
						</tr>
						<tr>
							<th><h:outputText value="#{msgs.userOwner}" /></th>
							<td><h:outputText
								value="#{selectedSubscription.application.applicationOwner.name}" /></td>
						</tr>
						<tr>
							<th><h:outputText value="#{msgs.description}" /></th>
							<td><h:outputText
								value="#{selectedSubscription.application.description}"
								styleClass="text" /></td>
						</tr>
					</tbody>
				</table>
			</rich:simpleTogglePanel>

			<rich:simpleTogglePanel switchType="client" styleClass="fullwidth"
                rendered="#{!empty subscriptions.usageAgreement}"
				opened="false" label="#{msgs.confirmedUsageAgreement}">
				<div class="text block">#{subscriptions.usageAgreement}</div>
			</rich:simpleTogglePanel>

			<rich:simpleTogglePanel switchType="client" styleClass="fullwidth"
                rendered="#{!empty confirmedIdentityAttributes}"
				opened="false" label="#{msgs.confirmedIdentity}">
                <table class="inner">
                    <tr>
                        <th>#{msgs.attributeName}</th>
                        <th>#{msgs.dataMining}</th>
                    </tr>

                    <ui:repeat id="data" var="item" value="#{confirmedIdentityAttributes}">
                        <tr>
                            <td><h:outputText value="#{item.name}"
                                rendered="#{empty item.humanReadableName}" /> <h:outputText
                                value="#{item.humanReadableName}"
                                rendered="#{!empty item.humanReadableName}" /></td>
                            <td width="1"><h:graphicImage
                                value="/images/icons/accept.png" rendered="#{item.dataMining}" />
                            </td>
                        </tr>
                    </ui:repeat>
                </table>
			</rich:simpleTogglePanel>
		</a4j:outputPanel>
		<h:form>
			<h:commandButton value="#{msgs.backaction}" action="back"
				class="submit" />
		</h:form>
	</ui:define>
	<ui:define name="sidebar">
		<p>#{msgs.helpSubscription}</p>
	</ui:define>
</ui:composition>
</body>

</html>
