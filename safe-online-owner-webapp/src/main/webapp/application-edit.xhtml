<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:so="urn:net:lin-k:safe-online:taglib:1.0"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich">
<body>
<ui:composition template="/WEB-INF/template.xhtml">
	<ui:define name="top_content">
		<h1>#{selectedApplication.name}</h1>
	</ui:define>
	<ui:define name="content">

		<a4j:form id="editForm">
            <rich:simpleTogglePanel switchType="client" styleClass="fullwidth"
				label="#{msgs.description}">
					<h:inputTextarea value="#{selectedApplication.description}"
						escape="false" cols="75" rows="10" />
            </rich:simpleTogglePanel>

            <rich:simpleTogglePanel switchType="client" styleClass="fullwidth"
				label="#{msgs.devices}">
                    <table class="inner">
                        <tr>
                            <th class="half">
                                <h:outputLabel for="restriction" value="#{msgs.isDeviceRestriction}"/>
                            </th>
                            <td>
                                <h:selectBooleanCheckbox id="restriction" value="#{selectedApplication.deviceRestriction}" />
                            </td>
                        </tr>
                    </table>

                    <br />
					<rich:dataTable value="#{allowedDevices}" var="item" styleClass="inner ">
						<h:column>
							<f:facet name="header">#{msgs.name}</f:facet>
							<h:outputText value="#{item.friendlyName}" />
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.allowed}</f:facet>
							<h:selectBooleanCheckbox value="#{item.allowed}" styleClass="radio"/>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.weight}</f:facet>
							<h:inputText value="#{item.weight}" styleClass="label"/>
						</h:column>
					</rich:dataTable>
            </rich:simpleTogglePanel>

			<a4j:commandButton id="save" value="#{msgs.saveaction}"
				action="#{ownerApplication.save}" styleClass="submit" />
			<a4j:commandButton id="cancel" value="#{msgs.cancelaction}"
				action="cancel" immediate="true" styleClass="submit" />
		</a4j:form>
	</ui:define>
	<ui:define name="sidebar">
		<p>#{msgs.helpApplicationEdit}</p>
	</ui:define>
</ui:composition>
</body>

</html>
