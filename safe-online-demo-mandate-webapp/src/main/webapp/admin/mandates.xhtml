<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:n="http://gravel.jboss.org/jsf/1.0/navigation">
<body>
<ui:composition template="/WEB-INF/template.xhtml">

	<ui:define name="content">

		<h1>#{msgs.mandates}</h1>

		<p>#{msgs.user}: #{mandateUser}</p>

		<a4j:form id="mandateForm" ajaxSubmit="true" reRender="mandate-data">
			<rich:dataTable id="mandate-data" value="#{mandates}" var="item">
				<rich:column>
					<f:facet name="header">#{msgs.company}</f:facet>
					<h:outputText value="#{item.companyName}" />
				</rich:column>

				<rich:column>
					<f:facet name="header">#{msgs.title}</f:facet>
					<h:outputText value="#{item.title}" />
				</rich:column>

				<rich:column>
					<f:facet name="header">#{msgs.actions}</f:facet>
					<a4j:commandLink id="remove" value="#{msgs.remove}"
						action="#{mandateSearch.removeMandate}">
						<n:nav outcome="success" viewId="/admin/mandates.xhtml" />
					</a4j:commandLink>
				</rich:column>
			</rich:dataTable>

			<h:messages styleClass="error" globalOnly="true" />

			<a4j:commandButton id="add" value="#{msgs.add}" action="add">
				<n:nav outcome="add" viewId="/admin/mandate-add.xhtml" />
			</a4j:commandButton>

			<a4j:commandButton id="search" value="#{msgs.search}" action="search">
				<n:nav outcome="search" viewId="/admin/search.xhtml" />
			</a4j:commandButton>
		</a4j:form>

	</ui:define>

	<ui:define name="sidebar">
		<ui:include src="/WEB-INF/incl/login.xhtml" />
	</ui:define>
</ui:composition>
</body>
</html>
